<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{{ title or site.title }} {% if url != "/"  %}| {{ site.title }}{% endif %}</title>
        <meta name="description" content="{{ description or site.description }}">
        <link rel="icon" type="image/x-icon" href="/assets/favicon-32.png">
        <link rel="stylesheet" href="/styles.css">
    </head>
    <body>

        <a href="{{ site.github.url }}" target="_blank" rel="noopener" class="ribbon">
            Fork me on GitHub
        </a>

        {% if url != "/" %}
        <header>
            <div class="header-inner">
                <a href="/" id="logo">
                    <img src="/assets/exploitnotes_logo_white.png" alt="{{ site.title }}">
                </a>
                <div id="search"></div>
                <div id="socials">
                    <a href="{{ site.twitter.url }}" target="_blank" rel="noopener">
                        <img src="{{ site.twitter.icon }}" alt="{{ site.twitter.name }}">
                    </a>
                </div>
            </div>
        </header>
        <div id="search-drawer-bg"></div>
        {% endif %}

        <main class="{{ bodyClass }}">
            {{ content | safe }}
        </main>

    </body>
</html>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        let searchDrawerBgElem = document.getElementById("search-drawer-bg");

        if (searchDrawerBgElem) {
            searchDrawerBgElem.addEventListener('click', () => {
                searchDrawerBgElem.style.display = "none";
                drawerElem.style.visibility = "hidden";
                drawerElem.style.opacity = 0;
            });
        }

        let drawerElem = document.querySelector(".pagefind-ui__drawer");

        let inputElem = document.querySelector(".pagefind-ui__search-input");

        inputElem.addEventListener('focus', () => {
            if (searchDrawerBgElem) {
                searchDrawerBgElem.style.display = "block";
                drawerElem.style.visibility = "visible";
                drawerElem.style.opacity = 1;
            }
        });
    });
</script>