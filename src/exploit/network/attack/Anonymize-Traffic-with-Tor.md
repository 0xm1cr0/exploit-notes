---
title: Anonymize Traffic with Tor
description: We can anonymize our traffic using Tor proxy and proxychains.
tags:
    - Network
    - Web
refs:
    - https://geekflare.com/anonymize-linux-traffic/
date: 2023-07-03
draft: false
---

## Anonymization

### 1. Configure Proxychains

First off, find the location of the proxychains configuration file.

```bash
find / -type f -name "*proxychains*" 2>/dev/null
```

Assume we found **`/etc/proxychains.conf`** then modify this file.

```bash
vim /etc/proxychains
```

We need to remove **`#`** in front of **`dynamic_chains`**, then comment out the **`strict_chain`** line and the **`random_chain`** line.  
In addition, check the **`proxy_dns`** is uncommented for avoiding our DNS to be leaked.

```bash
...

dynamic_chain

...

# strict_chain

...

# random_chain

...

proxy_dns
```

Add **`socks4 127.0.0.1 9050`** and **`socks5 127.0.0.1 9050`** in the **`ProxyList`** section. 

```bash
[ProxyList]
socks4  127.0.0.1 9050
socks5  127.0.0.1 9050
```

### 2. Start Tor Service

Before using proxychains, we need to start Tor service.

```bash
systemctl start tor

# Check the status
systemctl status tor
```

### 3. Use Proxychains

Now we can execute arbitrary command with proxychains. Our traffic should be anonymous thanks to Tor.

```bash
# Open Firefox browser.
proxychains firefox dnsleaktest.com

proxychains nmap x.x.x.x
```

### 4. Stop Tor Service

After using proxychains and Tor, stop the Tor service.

```bash
systemctl stop tor
```